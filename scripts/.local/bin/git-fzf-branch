#!/usr/bin/env zsh

# selection menu for local branches
branches=$(git for-each-ref --format='%(refname:short)' refs/heads)
current=$(git branch --show-current)

# Add a marker to the current branch for display
menu=$(echo "$branches" | sed "s/^$current/* $current/")

selected=$(echo "$menu" | fzf)

# Remove marker if present
selected=${selected#* }

git switch "$selected"
